<<<<<<< HEAD
<!DOCTYPE html><html><head><script type="text/javascript" src="https://www.repstatic.it/cless/common/stable/js/vendor/jquery/jquery-1.8.2.min.js"></script><script type="text/javascript" src="https://login.kataweb.it/login/js/api/sso-api.js"></script></head><body><script type="text/javascript">window.SSOConf={targetDomain:"prod",appId:"prm.repubblica.it"};function QueryStringToJSON(){var a=location.search.slice(1).split("&"),b={};return a.forEach(function(a){a=a.split("="),b[a[0]]=decodeURIComponent(a[1]||"")}),JSON.parse(JSON.stringify(b))}var query_string=QueryStringToJSON();console.log("query_string: "+JSON.stringify(query_string));var hashId=query_string&&query_string.hash_id?query_string.hash_id:null;console.log("HashId letto da query string: "+hashId);function AutoLoginCallBack(a){var b="",c="",d="";c=query_string.url,b="https://rep.repubblica.it/api/checkpw-v1/premium/amp/login?rid="+query_string.rid+"&return="+query_string.return,urlFail="https://rep.repubblica.it/api/checkpw-v1/premium/amp/logout?rid="+query_string.rid+"&return="+encodeURIComponent(b),d="https://rep.repubblica.it/api/checkpw-v1/premium/amp/checkuser?rid="+query_string.rid+"&hashid="+hashId+"&successurl="+encodeURIComponent(query_string.return)+"&failurl="+encodeURIComponent(urlFail),console.log("Redirect to: "+d),console.log("Return: "+query_string.return),console.log("Dati: "+JSON.stringify(a)),"login"==a.op?console.log("AutoLogin - do login"):"changeuser"==a.op?(console.log("AutoLogin - do changeuser"),window.top===window?window.location.href=d:window.top.location.href=d):"login_manual"==a.op||("logout"==a.op?(console.log("AutoLogin - do logout"),window.top===window?window.location.href=d:window.top.location.href=d):"sameuser"==a.op?(console.log("AutoLogin - tutto OK"),window.location.href=a.hashId?c+"?hash_id="+a.hashId:c+"?hash_id="+hashId):console.log("AutoLogin - ??????????"))}SSO.checkStatusChange(hashId,AutoLoginCallBack,!0);</script></body></html>
=======
<!DOCTYPE html><html><head><script type="text/javascript" src="https://www.repstatic.it/cless/common/stable/js/vendor/jquery/jquery-1.8.2.min.js"></script><script type="text/javascript" src="https://login.kataweb.it/login/js/api/sso-api.js"></script></head><body><script type="text/javascript">window.SSOConf={targetDomain:"prod",appId:"prm.repubblica.it"};function QueryStringToJSON(){var a=location.search.slice(1).split("&"),b={};return a.forEach(function(c){c=c.split("="),b[c[0]]=decodeURIComponent(c[1]||"")}),JSON.parse(JSON.stringify(b))}var query_string=QueryStringToJSON();console.log("query_string: "+JSON.stringify(query_string));var hashId=query_string&&query_string.hash_id?query_string.hash_id:null;console.log("HashId letto da query string: "+hashId);function AutoLoginCallBack(a){var b="",c="",d="",e="";c=query_string.url,b="https://rep.repubblica.it/api/checkpw-v1/premium/amp/login?rid="+query_string.rid+"&return="+query_string.return,e="https://rep.repubblica.it/api/checkpw-v1/premium/amp/logout?rid="+query_string.rid+"&return="+encodeURIComponent(b),d="https://rep.repubblica.it/api/checkpw-v1/premium/amp/checkuser?rid="+query_string.rid+"&successurl="+encodeURIComponent(c)+"failurl="+encodeURIComponent(e),console.log("Redirect to: "+d),console.log("Return: "+query_string.return),console.log("Dati: "+JSON.stringify(a)),"login"==a.op?console.log("AutoLogin - do login"):"changeuser"==a.op?(console.log("AutoLogin - do changeuser"),window.top===window?window.location.href=d:window.top.location.href=d):"login_manual"==a.op||("logout"==a.op?(console.log("AutoLogin - do logout"),window.top===window?window.location.href=d:window.top.location.href=d):"sameuser"==a.op?(console.log("AutoLogin - tutto OK"),a.hashId?window.location.href=c+"?hash_id="+a.hashId:window.top===window?window.location.href=d:window.top.location.href=d):console.log("AutoLogin - ??????????"))}SSO.checkStatusChange(hashId,AutoLoginCallBack,!0);</script></body></html>
>>>>>>> origin/master
